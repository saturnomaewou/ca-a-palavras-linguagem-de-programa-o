<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Jogo do Labirinto</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #222;
      color: #fff;
      font-family: sans-serif;
      user-select: none;
      height: 100vh;
      justify-content: center;
    }
    canvas {
      background: #111;
      border: 4px solid #555;
    }
    #status {
      margin-top: 12px;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>

  <h1>Labirinto</h1>
  <canvas id="maze" width="600" height="600"></canvas>
  <div id="status">Use ← ↑ → ↓ para chegar à saída verde.</div>

  <script>
    const canvas = document.getElementById('maze');
    const ctx = canvas.getContext('2d');
    const tileSize = 40;
    
    // 15x15: 1 = parede, 0 = espaço livre, 2 = saída
    const mapData = [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,1,0,0,0,0,1,0,0,0,1,0,1],
      [1,0,1,0,0,1,1,0,1,0,1,0,1,0,1],
      [1,0,1,0,0,0,0,0,0,0,1,0,1,0,1],
      [1,0,1,1,1,1,0,1,1,0,1,0,1,0,1],
      [1,0,0,0,0,1,0,0,1,0,0,0,1,0,1],
      [1,1,1,1,0,1,1,0,1,1,1,0,1,0,1],
      [1,0,0,1,0,0,0,0,0,0,1,0,0,0,1],
      [1,0,1,1,1,1,1,1,1,0,1,1,1,0,1],
      [1,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],
      [1,0,0,0,0,0,1,0,0,0,0,0,1,0,1],
      [1,0,1,1,1,0,1,1,1,1,0,1,1,0,1],
      [1,0,0,0,1,0,0,0,0,0,0,0,0,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
    ];
    
    // Estado do jogador
    const player = { x: 1, y: 1, color: 'deepskyblue' };
    let gameOver = false;
    
    // Desenha todo o labirinto e o jogador
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let row = 0; row < mapData.length; row++) {
        for (let col = 0; col < mapData[row].length; col++) {
          const tile = mapData[row][col];
          if (tile === 1) {
            ctx.fillStyle = '#444';
            ctx.fillRect(col * tileSize, row * tileSize, tileSize, tileSize);
          } else if (tile === 2) {
            ctx.fillStyle = 'limegreen';
            ctx.fillRect(col * tileSize, row * tileSize, tileSize, tileSize);
          }
        }
      }
      // jogador
      ctx.fillStyle = player.color;
      ctx.fillRect(
        player.x * tileSize + 4,
        player.y * tileSize + 4,
        tileSize - 8,
        tileSize - 8
      );
    }
    
    // Tenta mover jogador e checa vitória
    function move(dx, dy) {
      if (gameOver) return;
      const nx = player.x + dx;
      const ny = player.y + dy;
      const target = mapData[ny] && mapData[ny][nx];
      if (target === 0 || target === 2) {
        player.x = nx;
        player.y = ny;
        if (target === 2) {
          document.getElementById('status').textContent = 'Você escapou! Parabéns!';
          gameOver = true;
        }
      }
      draw();
    }
    
    // Controles via teclado
    window.addEventListener('keydown', e => {
      switch (e.code) {
        case 'ArrowUp':    move(0, -1); break;
        case 'ArrowDown':  move(0, 1);  break;
        case 'ArrowLeft':  move(-1, 0); break;
        case 'ArrowRight': move(1, 0);  break;
      }
    });
    
    // Inicialização
    draw();
  </script>
  <a href="index.html" class="btn-jogar">Voltar</a>
</body>
</html>
